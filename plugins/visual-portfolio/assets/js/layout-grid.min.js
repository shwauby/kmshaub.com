!function(){var t=window.jQuery,i=window.VPData.screenSizes;if(void 0!==window.Isotope&&void 0!==window.Isotope.LayoutMode){var o=window.Isotope.LayoutMode.create("vpRows").prototype;o.measureColumns=function(){if(this.items=this.isotope.filteredItems,this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&window.getSize(i).outerWidth||this.containerWidth}this.columnWidth+=this.gutter;var o=this.containerWidth+this.gutter,e=o/this.columnWidth,n=this.columnWidth-o%this.columnWidth;e=Math[n&&1>n?"round":"floor"](e),this.cols=Math.max(e,1)},o.getContainerWidth=function(){var t=this._getOption&&this._getOption("fitWidth")?this.element.parentNode:this.element,i=window.getSize(t);this.containerWidth=i&&i.innerWidth},o._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this.horizontalColIndex=0,this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns()},o._getItemLayoutPosition=function(t){t.getSize();var i=t.size.outerWidth%this.columnWidth,o=Math[i&&1>i?"round":"ceil"](t.size.outerWidth/this.columnWidth);o=Math.min(o,this.cols);var e=this.horizontalColIndex%this.cols;e=1<o&&e+o>this.cols?0:e;var n=t.size.outerWidth&&t.size.outerHeight;this.horizontalColIndex=n?e+o:this.horizontalColIndex;var s=t.size.outerWidth+this.gutter;0!==this.x&&1===this.horizontalColIndex&&(this.x=0,this.y=this.maxY);var h={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=s,h},o._getContainerSize=function(){return{height:this.maxY}}}t(document).on("initOptions.vpf",(function(t,i){"vpf"===t.namespace&&(i.defaults.gridColumns=3,i.options.gridColumns||(i.options.gridColumns=i.defaults.gridColumns),i.options.gridImagesAspectRatio||(i.options.gridImagesAspectRatio=i.defaults.gridImagesAspectRatio))})),t(document).on("initLayout.vpf",(function(t,o){if("vpf"===t.namespace&&"grid"===o.options.layout){var e=function(t){var i="",o="";if(t&&/:/g.test(t)){var e=t.split(":");i=e[0],o=e[1]}return[i,o]}(o.options.gridImagesAspectRatio);e&&e[0]&&e[1]&&o.addStyle(".vp-portfolio__item-wrap .vp-portfolio__item-img-wrap::before",{"padding-top":"".concat(e[1]/e[0]*100,"%")}),o.addStyle(".vp-portfolio__item-wrap",{width:"".concat(100/o.options.gridColumns,"%")});for(var n=o.options.gridColumns-1,s=Math.min(i.length-1,n);0<=s;s-=1)0<n&&void 0!==i[s]&&o.addStyle(".vp-portfolio__item-wrap",{width:"".concat(100/n,"%")},"screen and (max-width: ".concat(i[s],"px)")),n-=1}})),t(document).on("beforeInitIsotope.vpf",(function(t,i,o){"vpf"===t.namespace&&"grid"===i.options.layout&&(o.layoutMode="vpRows")}))}();